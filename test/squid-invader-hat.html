<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Squid Invader Hat</title>
  <meta name="description" content="The world is being invaded by squid aliens and you are humanity’s last hope. What’s left for you to do? Show your new cephalopod overlords that you are on th...">

  <link rel="icon" type="image/png" href="/favicon.png" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:800,800i" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700,700i" rel="stylesheet">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://squidzapparel.com/test/squid-invader-hat">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://sdks.shopifycdn.com/js-buy-sdk/v0/latest/shopify-buy.umd.polyfilled.min.js"></script>
  <script defer src="/assets/regular.min.js"></script>
  <script defer src="/assets/fontawesome.js"></script>
  <script src="/assets/scripts.js"></script>
  
  
</head>


  <body>

    <header class="header" role="banner">

  <div class="container">

    <div class="grid-middle">

      <div class="col-5 nav-left">
        <a class="nav-link" href="/">Hats</a>
        <a class="nav-link" href="/">Shirts</a>
        <a class="nav-link" href="/">Hoodies</a>
        <a class="nav-link" href="/">Shoes</a>
      </div>

      <div class="col-2">
        <a class="logo" href="/"><img src="/assets/images/logo.svg"/></a>
      </div>
      
      <div class="col-5 text-right nav-right">
        <a class="nav-link" href="/">About</a>
        <a class="nav-link" href="/">Faqs</a>
        <a class="nav-link" href="/cart">Cart <div class="cart-count"></div></a>
      </div>

    </div>

  </div>

</header>


    <main class="content" aria-label="Content">
      <div class="product">
  <div id="product" class="container">
    <div class="loader">
  <img src="/assets/images/loading.gif"/>
</div>
  </div>
</div>

<script>
  var productId;
  $(function () {
    shopClient.fetchProduct('128055509021')
    .then(function (product) {
      productId = product.id;
      var productHTML = '\
        <div class="grid">\
          <div class="col-6_sm-12 text-center">\
            <div class="product-image">\
              <img src="" />\
              <div class="product-image-background">'+product.title+'</div>\
            </div>\
          </div>\
          <div class="col-6_sm-12">\
            <h1 class="product-title">'+product.title+'</h1>\
            <div class="product-description content">'+product.description+'</div>\
            <div class="product-form">\
              <div class="product-variant-selector"></div>\
              <div class="product-quantity-wrapper">\
                <label for="quantity">Quantity</label>\
                <input class="quantity" type="number" min="1" value="1" />\
              </div>\
              <h2 class="product-price h1"></h2>\
              <div class="add-to-cart-wrapper text-center">\
                <div class="btn add-to-cart" data-product-id="'+product.id+'" data-variant-id="'+ product.selectedVariant.id+'">Add To Cart</div>\
              </div>\
            </div>\
          </div>\
        </div>';
      $('#product').html(productHTML);

      // Initial values
      var selectedVariant = product.selectedVariant,
          selectedVariantImage = product.selectedVariantImage,
          varCount = product.variants.length;

      // Checks if there are more than one variant, and if so, adds the selectors.
      if (varCount > 1) {
        console.log(product.variants, product.options)
				var variantSelectors = product.options.map(function (option) {
          return '<label for="'+option.name+'">'+option.name+'</label>\
          <div class="select-wrapper"><div class="select-arrow"><i class="far fa-chevron-down"></i></div><select name="' + option.name + '" class="variant-selector">' + 
            option.values.map(function(value) {
              return '<option value="' + value + '">' + value + '</option>';
            }).join('\n') +
          '</select></div>';
        });
        $('.product-variant-selector').html(variantSelectors);
			}
      updateVariantImage(selectedVariantImage);
			updateVariantPrice(selectedVariant);
      $('#product').on('change', '.variant-selector', function(select){
        var optionName = select.target.name;
        var selectedValue = select.target.value;

        var option = product.options.filter(function (option) {
          return option.name === optionName;
        })[0];

        option.selected = selectedValue;
        updateVariantImage(product.selectedVariantImage);
        updateVariantPrice(product.selectedVariant);
      });
      $('#product').on('click', '.add-to-cart', function(){
        $('.add-to-cart').html('<i class="far fa-spinner-third fa-spin fa-fw"></i>');
        var theQuantity = $('.quantity').val();
        setTimeout(function(){
          cart.createLineItemsFromVariants({
            variant: product.selectedVariant,
            quantity: theQuantity
          }).then(function (newCart) {
            localStorage.setItem('lastCartId', newCart.id);
            cartLineItemCount = newCart.lineItemCount;
            cartCount();
          });
          $('.add-to-cart').addClass('add-to-cart-success').html('Success!');
          if($('.product-success').length <= 0){
            $('.add-to-cart-wrapper').append('<div class="product-success"><a href="">Continue shopping</a> or <a href="">Checkout</a></div>');
          }
          setTimeout(function(){
            $('.add-to-cart').removeClass('add-to-cart-success').html('Add to Cart');
          }, 5000);
        }, 2000);
        
      });
    })
    .catch(function () {
      console.log('Request failed here');
    });//End "get products"
  });

  // Changes the image to the selected variant's image
  function updateVariantImage(selectedVariantImage){
    var src = (selectedVariantImage) ? selectedVariantImage.src : ShopifyBuy.NO_IMAGE_URI;
    $('.product-image img').attr('src', src);
  }

  // Changes the price to the selected variant's price
  function updateVariantPrice(selectedVariant){
    $('.product-price').text('$' + selectedVariant.price);
  }
  function addOrUpdateVariant(cartLineItem, variantObject, quantity) {
    var variantObjectID = variantObject.id;
    if (cartLineItem) {
      updateVariantInCart(cartLineItem, quantity);
    } else {
      addVariantToCart(variantObject, quantity);
    }
  }
</script>

    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Squidz Apparel</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Squidz Apparel
            
            </li>
            
            <li><a href="mailto:justinpatenaude92@gmail.com">justinpatenaude92@gmail.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
